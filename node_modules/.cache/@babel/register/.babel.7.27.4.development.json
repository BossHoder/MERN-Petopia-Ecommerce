{"{\"assumptions\":{},\"sourceRoot\":\"E:\\\\CodingWorkSpace\\\\Petopia_Store\\\\server\\\\src\\\\\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"E:\\\\CodingWorkSpace\\\\Petopia_Store\",\"filename\":\"E:\\\\CodingWorkSpace\\\\Petopia_Store\\\\server\\\\src\\\\index.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"E:\\\\CodingWorkSpace\\\\Petopia_Store\",\"rootMode\":\"root\",\"plugins\":[],\"presets\":[]}:7.27.4:development":{"value":{"code":"import 'dotenv/config.js';\nimport express, { Router } from 'express';\nimport mongoose from 'mongoose';\n// import https from 'https';\nimport { readFileSync } from 'fs';\nimport { resolve, join } from 'path';\nimport passport from 'passport';\nimport all_routes from 'express-list-endpoints';\nimport routes from './routes/index.js';\n// import { seedDb } from './utils/seed.js'; // Tạm thời comment out\nimport connectDB from './config/database.js';\nconst app = express();\nconst router = Router();\n\n// Bodyparser Middleware\napp.use(express.json());\napp.use(express.urlencoded({\n  extended: true\n}));\napp.use(passport.initialize());\nrequire('./services/jwtStrategy');\n// require('./services/facebookStrategy');\n// require('./services/googleStrategy');\nrequire('./services/localStrategy');\nconst isProduction = process.env.NODE_ENV === 'production';\n\n// DB Config\nconst dbConnection = isProduction ? process.env.MONGO_URI_PROD : process.env.MONGO_URI_DEV;\n\n// Connect to MongoDB\nconnectDB();\n// seedDb(); // Tạm thời comment out để tránh lỗi\n\n// Use Routes\napp.use('/', routes);\napp.use('/public/images', express.static(join(__dirname, '../public/images')));\n\n// Serve static assets if in production\nif (isProduction) {\n  // Set static folder\n  // nginx will handle this\n  // app.use(express.static(join(__dirname, '../../client/build')));\n\n  // app.get('*', (req, res) => {\n  //   // index is in /server/src so 2 folders up\n  //   res.sendFile(resolve(__dirname, '../..', 'client', 'build', 'index.html')); \n  // });\n\n  const port = process.env.PORT || 80;\n  app.listen(port, () => console.log(`Server started on port ${port}`));\n} else {\n  const port = process.env.PORT || 5000;\n  app.listen(port, () => {\n    console.log(`Server running at http://localhost:${port}`);\n  });\n}\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJleHByZXNzIiwiUm91dGVyIiwibW9uZ29vc2UiLCJyZWFkRmlsZVN5bmMiLCJyZXNvbHZlIiwiam9pbiIsInBhc3Nwb3J0IiwiYWxsX3JvdXRlcyIsInJvdXRlcyIsImNvbm5lY3REQiIsImFwcCIsInJvdXRlciIsInVzZSIsImpzb24iLCJ1cmxlbmNvZGVkIiwiZXh0ZW5kZWQiLCJpbml0aWFsaXplIiwicmVxdWlyZSIsImlzUHJvZHVjdGlvbiIsInByb2Nlc3MiLCJlbnYiLCJOT0RFX0VOViIsImRiQ29ubmVjdGlvbiIsIk1PTkdPX1VSSV9QUk9EIiwiTU9OR09fVVJJX0RFViIsInN0YXRpYyIsIl9fZGlybmFtZSIsInBvcnQiLCJQT1JUIiwibGlzdGVuIiwiY29uc29sZSIsImxvZyJdLCJzb3VyY2VSb290IjoiRTpcXENvZGluZ1dvcmtTcGFjZVxcUGV0b3BpYV9TdG9yZVxcc2VydmVyXFxzcmNcXCIsInNvdXJjZXMiOlsiaW5kZXguanMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0ICdkb3RlbnYvY29uZmlnLmpzJztcbmltcG9ydCBleHByZXNzLCB7IFJvdXRlciB9IGZyb20gJ2V4cHJlc3MnO1xuaW1wb3J0IG1vbmdvb3NlIGZyb20gJ21vbmdvb3NlJztcbi8vIGltcG9ydCBodHRwcyBmcm9tICdodHRwcyc7XG5pbXBvcnQgeyByZWFkRmlsZVN5bmMgfSBmcm9tICdmcyc7XG5pbXBvcnQgeyByZXNvbHZlLCBqb2luIH0gZnJvbSAncGF0aCc7XG5pbXBvcnQgcGFzc3BvcnQgZnJvbSAncGFzc3BvcnQnO1xuaW1wb3J0IGFsbF9yb3V0ZXMgZnJvbSAnZXhwcmVzcy1saXN0LWVuZHBvaW50cyc7XG5cbmltcG9ydCByb3V0ZXMgZnJvbSAnLi9yb3V0ZXMvaW5kZXguanMnO1xuLy8gaW1wb3J0IHsgc2VlZERiIH0gZnJvbSAnLi91dGlscy9zZWVkLmpzJzsgLy8gVOG6oW0gdGjhu51pIGNvbW1lbnQgb3V0XG5pbXBvcnQgY29ubmVjdERCIGZyb20gJy4vY29uZmlnL2RhdGFiYXNlLmpzJztcblxuY29uc3QgYXBwID0gZXhwcmVzcygpO1xuY29uc3Qgcm91dGVyID0gUm91dGVyKCk7XG5cbi8vIEJvZHlwYXJzZXIgTWlkZGxld2FyZVxuYXBwLnVzZShleHByZXNzLmpzb24oKSk7XG5hcHAudXNlKGV4cHJlc3MudXJsZW5jb2RlZCh7IGV4dGVuZGVkOiB0cnVlIH0pKTtcblxuYXBwLnVzZShwYXNzcG9ydC5pbml0aWFsaXplKCkpO1xucmVxdWlyZSgnLi9zZXJ2aWNlcy9qd3RTdHJhdGVneScpO1xuLy8gcmVxdWlyZSgnLi9zZXJ2aWNlcy9mYWNlYm9va1N0cmF0ZWd5Jyk7XG4vLyByZXF1aXJlKCcuL3NlcnZpY2VzL2dvb2dsZVN0cmF0ZWd5Jyk7XG5yZXF1aXJlKCcuL3NlcnZpY2VzL2xvY2FsU3RyYXRlZ3knKTtcblxuY29uc3QgaXNQcm9kdWN0aW9uID0gcHJvY2Vzcy5lbnYuTk9ERV9FTlYgPT09ICdwcm9kdWN0aW9uJztcblxuLy8gREIgQ29uZmlnXG5jb25zdCBkYkNvbm5lY3Rpb24gPSBpc1Byb2R1Y3Rpb24gPyBwcm9jZXNzLmVudi5NT05HT19VUklfUFJPRCA6IHByb2Nlc3MuZW52Lk1PTkdPX1VSSV9ERVY7XG5cbi8vIENvbm5lY3QgdG8gTW9uZ29EQlxuY29ubmVjdERCKCk7XG4vLyBzZWVkRGIoKTsgLy8gVOG6oW0gdGjhu51pIGNvbW1lbnQgb3V0IMSR4buDIHRyw6FuaCBs4buXaVxuXG4vLyBVc2UgUm91dGVzXG5hcHAudXNlKCcvJywgcm91dGVzKTtcbmFwcC51c2UoJy9wdWJsaWMvaW1hZ2VzJywgZXhwcmVzcy5zdGF0aWMoam9pbihfX2Rpcm5hbWUsICcuLi9wdWJsaWMvaW1hZ2VzJykpKTtcblxuLy8gU2VydmUgc3RhdGljIGFzc2V0cyBpZiBpbiBwcm9kdWN0aW9uXG5pZiAoaXNQcm9kdWN0aW9uKSB7XG4gIC8vIFNldCBzdGF0aWMgZm9sZGVyXG4gIC8vIG5naW54IHdpbGwgaGFuZGxlIHRoaXNcbiAgLy8gYXBwLnVzZShleHByZXNzLnN0YXRpYyhqb2luKF9fZGlybmFtZSwgJy4uLy4uL2NsaWVudC9idWlsZCcpKSk7XG5cbiAgLy8gYXBwLmdldCgnKicsIChyZXEsIHJlcykgPT4ge1xuICAvLyAgIC8vIGluZGV4IGlzIGluIC9zZXJ2ZXIvc3JjIHNvIDIgZm9sZGVycyB1cFxuICAvLyAgIHJlcy5zZW5kRmlsZShyZXNvbHZlKF9fZGlybmFtZSwgJy4uLy4uJywgJ2NsaWVudCcsICdidWlsZCcsICdpbmRleC5odG1sJykpOyBcbiAgLy8gfSk7XG5cbiAgY29uc3QgcG9ydCA9IHByb2Nlc3MuZW52LlBPUlQgfHwgODA7XG4gIGFwcC5saXN0ZW4ocG9ydCwgKCkgPT4gY29uc29sZS5sb2coYFNlcnZlciBzdGFydGVkIG9uIHBvcnQgJHtwb3J0fWApKTtcbn0gZWxzZSB7XG4gIGNvbnN0IHBvcnQgPSBwcm9jZXNzLmVudi5QT1JUIHx8IDUwMDA7XG5cbiAgYXBwLmxpc3Rlbihwb3J0LCAoKSA9PiB7XG4gICAgY29uc29sZS5sb2coYFNlcnZlciBydW5uaW5nIGF0IGh0dHA6Ly9sb2NhbGhvc3Q6JHtwb3J0fWApO1xuICB9KTtcbn1cbiJdLCJtYXBwaW5ncyI6IkFBQUEsT0FBTyxrQkFBa0I7QUFDekIsT0FBT0EsT0FBTyxJQUFJQyxNQUFNLFFBQVEsU0FBUztBQUN6QyxPQUFPQyxRQUFRLE1BQU0sVUFBVTtBQUMvQjtBQUNBLFNBQVNDLFlBQVksUUFBUSxJQUFJO0FBQ2pDLFNBQVNDLE9BQU8sRUFBRUMsSUFBSSxRQUFRLE1BQU07QUFDcEMsT0FBT0MsUUFBUSxNQUFNLFVBQVU7QUFDL0IsT0FBT0MsVUFBVSxNQUFNLHdCQUF3QjtBQUUvQyxPQUFPQyxNQUFNLE1BQU0sbUJBQW1CO0FBQ3RDO0FBQ0EsT0FBT0MsU0FBUyxNQUFNLHNCQUFzQjtBQUU1QyxNQUFNQyxHQUFHLEdBQUdWLE9BQU8sQ0FBQyxDQUFDO0FBQ3JCLE1BQU1XLE1BQU0sR0FBR1YsTUFBTSxDQUFDLENBQUM7O0FBRXZCO0FBQ0FTLEdBQUcsQ0FBQ0UsR0FBRyxDQUFDWixPQUFPLENBQUNhLElBQUksQ0FBQyxDQUFDLENBQUM7QUFDdkJILEdBQUcsQ0FBQ0UsR0FBRyxDQUFDWixPQUFPLENBQUNjLFVBQVUsQ0FBQztFQUFFQyxRQUFRLEVBQUU7QUFBSyxDQUFDLENBQUMsQ0FBQztBQUUvQ0wsR0FBRyxDQUFDRSxHQUFHLENBQUNOLFFBQVEsQ0FBQ1UsVUFBVSxDQUFDLENBQUMsQ0FBQztBQUM5QkMsT0FBTyxDQUFDLHdCQUF3QixDQUFDO0FBQ2pDO0FBQ0E7QUFDQUEsT0FBTyxDQUFDLDBCQUEwQixDQUFDO0FBRW5DLE1BQU1DLFlBQVksR0FBR0MsT0FBTyxDQUFDQyxHQUFHLENBQUNDLFFBQVEsS0FBSyxZQUFZOztBQUUxRDtBQUNBLE1BQU1DLFlBQVksR0FBR0osWUFBWSxHQUFHQyxPQUFPLENBQUNDLEdBQUcsQ0FBQ0csY0FBYyxHQUFHSixPQUFPLENBQUNDLEdBQUcsQ0FBQ0ksYUFBYTs7QUFFMUY7QUFDQWYsU0FBUyxDQUFDLENBQUM7QUFDWDs7QUFFQTtBQUNBQyxHQUFHLENBQUNFLEdBQUcsQ0FBQyxHQUFHLEVBQUVKLE1BQU0sQ0FBQztBQUNwQkUsR0FBRyxDQUFDRSxHQUFHLENBQUMsZ0JBQWdCLEVBQUVaLE9BQU8sQ0FBQ3lCLE1BQU0sQ0FBQ3BCLElBQUksQ0FBQ3FCLFNBQVMsRUFBRSxrQkFBa0IsQ0FBQyxDQUFDLENBQUM7O0FBRTlFO0FBQ0EsSUFBSVIsWUFBWSxFQUFFO0VBQ2hCO0VBQ0E7RUFDQTs7RUFFQTtFQUNBO0VBQ0E7RUFDQTs7RUFFQSxNQUFNUyxJQUFJLEdBQUdSLE9BQU8sQ0FBQ0MsR0FBRyxDQUFDUSxJQUFJLElBQUksRUFBRTtFQUNuQ2xCLEdBQUcsQ0FBQ21CLE1BQU0sQ0FBQ0YsSUFBSSxFQUFFLE1BQU1HLE9BQU8sQ0FBQ0MsR0FBRyxDQUFDLDBCQUEwQkosSUFBSSxFQUFFLENBQUMsQ0FBQztBQUN2RSxDQUFDLE1BQU07RUFDTCxNQUFNQSxJQUFJLEdBQUdSLE9BQU8sQ0FBQ0MsR0FBRyxDQUFDUSxJQUFJLElBQUksSUFBSTtFQUVyQ2xCLEdBQUcsQ0FBQ21CLE1BQU0sQ0FBQ0YsSUFBSSxFQUFFLE1BQU07SUFDckJHLE9BQU8sQ0FBQ0MsR0FBRyxDQUFDLHNDQUFzQ0osSUFBSSxFQUFFLENBQUM7RUFDM0QsQ0FBQyxDQUFDO0FBQ0oiLCJpZ25vcmVMaXN0IjpbXX0=","map":{"version":3,"names":["express","Router","mongoose","readFileSync","resolve","join","passport","all_routes","routes","connectDB","app","router","use","json","urlencoded","extended","initialize","require","isProduction","process","env","NODE_ENV","dbConnection","MONGO_URI_PROD","MONGO_URI_DEV","static","__dirname","port","PORT","listen","console","log"],"sourceRoot":"E:\\CodingWorkSpace\\Petopia_Store\\server\\src\\","sources":["index.js"],"sourcesContent":["import 'dotenv/config.js';\nimport express, { Router } from 'express';\nimport mongoose from 'mongoose';\n// import https from 'https';\nimport { readFileSync } from 'fs';\nimport { resolve, join } from 'path';\nimport passport from 'passport';\nimport all_routes from 'express-list-endpoints';\n\nimport routes from './routes/index.js';\n// import { seedDb } from './utils/seed.js'; // Tạm thời comment out\nimport connectDB from './config/database.js';\n\nconst app = express();\nconst router = Router();\n\n// Bodyparser Middleware\napp.use(express.json());\napp.use(express.urlencoded({ extended: true }));\n\napp.use(passport.initialize());\nrequire('./services/jwtStrategy');\n// require('./services/facebookStrategy');\n// require('./services/googleStrategy');\nrequire('./services/localStrategy');\n\nconst isProduction = process.env.NODE_ENV === 'production';\n\n// DB Config\nconst dbConnection = isProduction ? process.env.MONGO_URI_PROD : process.env.MONGO_URI_DEV;\n\n// Connect to MongoDB\nconnectDB();\n// seedDb(); // Tạm thời comment out để tránh lỗi\n\n// Use Routes\napp.use('/', routes);\napp.use('/public/images', express.static(join(__dirname, '../public/images')));\n\n// Serve static assets if in production\nif (isProduction) {\n  // Set static folder\n  // nginx will handle this\n  // app.use(express.static(join(__dirname, '../../client/build')));\n\n  // app.get('*', (req, res) => {\n  //   // index is in /server/src so 2 folders up\n  //   res.sendFile(resolve(__dirname, '../..', 'client', 'build', 'index.html')); \n  // });\n\n  const port = process.env.PORT || 80;\n  app.listen(port, () => console.log(`Server started on port ${port}`));\n} else {\n  const port = process.env.PORT || 5000;\n\n  app.listen(port, () => {\n    console.log(`Server running at http://localhost:${port}`);\n  });\n}\n"],"mappings":"AAAA,OAAO,kBAAkB;AACzB,OAAOA,OAAO,IAAIC,MAAM,QAAQ,SAAS;AACzC,OAAOC,QAAQ,MAAM,UAAU;AAC/B;AACA,SAASC,YAAY,QAAQ,IAAI;AACjC,SAASC,OAAO,EAAEC,IAAI,QAAQ,MAAM;AACpC,OAAOC,QAAQ,MAAM,UAAU;AAC/B,OAAOC,UAAU,MAAM,wBAAwB;AAE/C,OAAOC,MAAM,MAAM,mBAAmB;AACtC;AACA,OAAOC,SAAS,MAAM,sBAAsB;AAE5C,MAAMC,GAAG,GAAGV,OAAO,CAAC,CAAC;AACrB,MAAMW,MAAM,GAAGV,MAAM,CAAC,CAAC;;AAEvB;AACAS,GAAG,CAACE,GAAG,CAACZ,OAAO,CAACa,IAAI,CAAC,CAAC,CAAC;AACvBH,GAAG,CAACE,GAAG,CAACZ,OAAO,CAACc,UAAU,CAAC;EAAEC,QAAQ,EAAE;AAAK,CAAC,CAAC,CAAC;AAE/CL,GAAG,CAACE,GAAG,CAACN,QAAQ,CAACU,UAAU,CAAC,CAAC,CAAC;AAC9BC,OAAO,CAAC,wBAAwB,CAAC;AACjC;AACA;AACAA,OAAO,CAAC,0BAA0B,CAAC;AAEnC,MAAMC,YAAY,GAAGC,OAAO,CAACC,GAAG,CAACC,QAAQ,KAAK,YAAY;;AAE1D;AACA,MAAMC,YAAY,GAAGJ,YAAY,GAAGC,OAAO,CAACC,GAAG,CAACG,cAAc,GAAGJ,OAAO,CAACC,GAAG,CAACI,aAAa;;AAE1F;AACAf,SAAS,CAAC,CAAC;AACX;;AAEA;AACAC,GAAG,CAACE,GAAG,CAAC,GAAG,EAAEJ,MAAM,CAAC;AACpBE,GAAG,CAACE,GAAG,CAAC,gBAAgB,EAAEZ,OAAO,CAACyB,MAAM,CAACpB,IAAI,CAACqB,SAAS,EAAE,kBAAkB,CAAC,CAAC,CAAC;;AAE9E;AACA,IAAIR,YAAY,EAAE;EAChB;EACA;EACA;;EAEA;EACA;EACA;EACA;;EAEA,MAAMS,IAAI,GAAGR,OAAO,CAACC,GAAG,CAACQ,IAAI,IAAI,EAAE;EACnClB,GAAG,CAACmB,MAAM,CAACF,IAAI,EAAE,MAAMG,OAAO,CAACC,GAAG,CAAC,0BAA0BJ,IAAI,EAAE,CAAC,CAAC;AACvE,CAAC,MAAM;EACL,MAAMA,IAAI,GAAGR,OAAO,CAACC,GAAG,CAACQ,IAAI,IAAI,IAAI;EAErClB,GAAG,CAACmB,MAAM,CAACF,IAAI,EAAE,MAAM;IACrBG,OAAO,CAACC,GAAG,CAAC,sCAAsCJ,IAAI,EAAE,CAAC;EAC3D,CAAC,CAAC;AACJ","ignoreList":[]}},"mtime":1750845345236}}